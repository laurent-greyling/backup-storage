@using Final.BackupTool.Common.Operational
@model Final.BackupTool.Common.Models.LatestStatusModel
@{
    ViewBag.Title = "Index";
}

<meta http-equiv="refresh" content="10">
<h4>Recent Operational Activities</h4>

@using (Html.BeginForm("Index", "RecentStatus"))
{
    if ((string) ViewData[OperationalDictionary.ViewRecentStatus] != "true")
    {
        <div class="card">
            <p>No activities have been recorded</p>
        </div>
    }
    if ((string) ViewData[OperationalDictionary.ViewRecentStatus] == "true")
    {
        <div id="RecentTableActivity" class="card">
            

            <table class="table-fill">
                <thead>
                <tr>
                    <th class="text-left table-fill">Activity</th>
                    <th class="text-left table-fill">Operation Type</th>
                    <th class="text-left table-fill">Copied</th>
                    <th class="text-left table-fill">Skipped</th>
                    <th class="text-left table-fill">Faulted</th>
                    <th class="text-left table-fill">Started</th>
                    <th class="text-left table-fill">Ended</th>
                    <th class="text-left table-fill">Finished In</th>
                    <th class="text-left table-fill">Status</th>
                </tr>
                </thead>
                <tbody class="table-hover table-fill">
                @foreach (var m in Model.Status)
                {
                    <tr>
                        <td class="text-left table-fill">@m.PartitionKey</td>
                        <td class="text-left table-fill">@m.OperationType</td>
                        <td class="text-left table-fill">@m.Copied</td>
                        <td class="text-left table-fill">@m.Skipped</td>
                        <td class="text-left table-fill">@m.Faulted</td>
                        <td class="text-left table-fill">@m.Stime</td>
                        <td class="text-left table-fill">@m.Etime</td>
                        <td class="text-left table-fill">@m.FinishedIn</td>
                        <td class="text-left table-fill">@m.FinalStatus</td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    }

}
    

